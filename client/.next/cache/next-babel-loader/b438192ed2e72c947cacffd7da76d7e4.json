{"ast":null,"code":"import mongoose from 'mongoose';\n\nconst LRUCache = require('lru-cache'); // import LRUCache from 'lru-cache'\n\n\nconst ssrCache = new LRUCache({\n  max: 100,\n  maxAge: 1000 * 60 * 60 // 1hour\n\n});\nconsole.log(ssrCache, 'C:C:C:C::C:C:C:C::C!!!!!!!%!!%%%%!');\nconst connection = {};\n\nasync function dbConnect() {\n  if (connection.isConnected) {\n    return;\n  }\n\n  const db = await mongoose.connect('mongodb+srv://marcin100:marcinmarcin100@afi-app.rcqkw.mongodb.net/Afi-app?retryWrites=true&w=majority', {\n    useNewUrlParser: true,\n    useCreateIndex: true,\n    useUnifiedTopology: true,\n    useFindAndModify: false\n  });\n  connection.isConnected = db.connections[0].readyState; //   const connection = mongoose.connection;\n  //   connection.once('open', () => {\n  //     console.log('MongoDB database connection established successfully');\n  //   });\n}\n\nexport default dbConnect;","map":null,"metadata":{},"sourceType":"module"}